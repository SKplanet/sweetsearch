<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=0">
        <title></title>
        <link rel="stylesheet" href="./css/demo.css">

    </head>
    <body>

    <div id="wrapper">
        <div class="search-form">
            <div class="search-form-heading"> Smart Search </div>
            <div class="formContainer">
                <form action="" method="post">
                    <div class="inputWrap">
                        <input type="text" class="input-field" name="field1" value="" 
                            autocomplete="off"
                            autocapitalize="off"
                            autocorrect="off"
                        />
                        <div class="clearQuery" style="display:none;">X</div>
                    </div>
                    <div class="buttonWrap">
                        <button type="submit" value="Submit" /> 검색
                    </div>
                </form>
            </div>

            <section class="auto-complete-wrap" style="display:none;">
                <ul class="ul-wrap"></ul>
                <button class="closeLayer">닫기</button>
            </section>

            <section class="recent-word-wrap" style="display:none;">
                <ul class="ul-wrap"></ul>
                <button class="closeLayer">닫기</button>
            </section>
        </div>
    </div>


    <script src="../dist/ss_merge_es5.js"></script>

    <script>

    var oSS= null;

    (function(doc){
        var elAutoCompleteLayer = doc.querySelector(".auto-complete-wrap");
        var elRecentWordLayer   = doc.querySelector(".recent-word-wrap");

        oSS = new SmartSearch(document.querySelector(".search-form"), {
        });

        var fnInsertAutoCompleteWord = function(sData) {
            var result  = "";
            var sHTML   = "";
            var sTemplate = "<li><span>[%sKeyword%]</span></li>";

            sData.items[0].forEach( function(v) {
                result = sTemplate.replace(/\[%sKeyword%\]/, v[0]);       
                sHTML += result;
            });

            oSS.replaceHTML(sHTML);
        }
    
        oSS.registerCallback({
            'fnInsertAutoCompleteWord' : fnInsertAutoCompleteWord
        });

    })(document);

    </script>
    </body>
</html>





